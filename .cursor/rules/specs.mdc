---
description: Rules for maintaining specification files
globs: ["specs/**/*.md"]
---

# Specification Rules

## Spec Structure

All specs live in `specs/` folder:

| File | Purpose |
|------|---------|
| CONSTITUTION.md | Project governance, principles |
| ARCHITECTURE.md | System boundaries, data flow |
| SCHEMAS.md | Database schemas with IDs |
| INTERFACES.md | MCP, CLI contracts |
| DECISIONS.md | ADR decision log |

## ID Requirements (DR1)

Every element must have a stable ID:

| Type | Format | Example |
|------|--------|---------|
| Schema | SCHEMA-NNN | SCHEMA-001 |
| Interface | MCP-NNN, CLI-NNN | MCP-001 |
| Decision | ADR-NNN | ADR-001 |
| Architecture | ARCH-NNN | ARCH-001 |

## AI-Friendly Format

Write for AI consumption:
- Tables over prose
- Explicit schemas with types
- No ambiguity
- Code examples where helpful

## Change Process

1. Propose change in PR
2. Update spec file
3. Reference spec ID in commit
4. Implementation follows spec update

Never implement behavior not in specs.
